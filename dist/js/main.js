(()=>{"use strict";const e=e=>{let t=!0;return e.forEach((e=>{switch(e.classList.remove("error"),e.getAttribute("name")){case"fio":if(!e.value.match(/[a-яA-я]{2}/gi)){e.style.border="2px solid red";break}return e.style.border="",void e.classList.remove("error");case"tel":if(!e.value.match(/^((\+7|7|8)+\(?([0-9]){3}\)?)(\-?([0-9]){3})(\-?([0-9]){2}){2}$/g)){e.style.border="2px solid red";break}return e.style.border="",void e.classList.remove("error");default:return}e.classList.add("error"),t=!1})),t};(()=>{const e=document.querySelector(".modal-overlay"),t=document.querySelector(".modal-callback"),r=document.querySelector(".services-elements"),o=document.querySelectorAll(".callback-btn"),n=document.querySelector('img[alt="modal-close"]'),a=document.querySelector(".button-services"),c=document.querySelector(".up"),l=()=>{"none"===e.style.display?(c.style.zIndex="20",function({timing:e,draw:t,duration:r}){let o=performance.now();requestAnimationFrame((function n(a){let c=(a-o)/r;c>1&&(c=1);let l=e(c);t(l),c<1&&requestAnimationFrame(n)}))}({duration:800,timing:e=>e,draw(r){t.style.display="block",e.style.display="block",e.style.opacity=100*r+"%",t.style.opacity=100*r+"%",t.style.transform=`translateX(-${150-100*r}%)`,t.style.left=""+50*r}})):(e.style.display="none",t.style.display="none",c.style.zIndex="")};l(),r.addEventListener("click",(e=>{e.preventDefault(),"A"===e.target.tagName&&l()})),o.forEach((e=>{e.addEventListener("click",l)})),a.addEventListener("click",l),e.addEventListener("click",l),n.addEventListener("click",l)})(),(()=>{const t=document.querySelector(".rf > form"),r=t.querySelectorAll("input"),o=document.createElement("div");t.addEventListener("submit",(n=>{n.preventDefault(),(()=>{const n=new FormData(t),a={};var c;t.append(o),o.textContent="Отправка данных..",n.forEach(((e,t)=>{"tel"===t&&""===e||("fio"===t&&""===e&&(e="Имя не указано"),a[t]=e)})),(()=>{let t=!0;return e(r),r.forEach((e=>{e.classList.contains("error")&&(t=!1)})),t})()?(c=a,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(c),headers:{"Content-type":"application/json"}}).then((e=>e.json()))).then((e=>{o.textContent="Данные отправлены!",setTimeout((()=>o.remove()),3e3),r.forEach((e=>{"submit"!==e.getAttribute("type")&&(e.value="")}))})).catch((e=>{o.textContent="Произошла ошибка"})):(o.textContent="Некорректный ввод",setTimeout((()=>o.remove()),3e3))})()}))})(),(()=>{const t=document.querySelector('input[name="fio"]'),r=document.querySelector(".tel");t.addEventListener("input",(t=>{t.target.value=t.target.value.replace(/[^а-яА-Я]/,""),e([t.target])})),r.addEventListener("input",(t=>{t.target.value=t.target.value.replace(/[^0-9\+]/,""),e([t.target])}))})(),(()=>{const e=document.querySelector(".top-menu"),t=document.querySelector("#services"),r=document.querySelector("#faq"),o=document.querySelector("#contacts"),n=document.querySelector(".up"),a=e=>{window.scroll({left:0,top:e.offsetTop,behavior:"smooth"})};e.addEventListener("click",(e=>{if(e.preventDefault(),"A"===e.target.tagName)switch(e.target.getAttribute("href")){case"#services":a(t);break;case"#faq":a(r);break;case"#contacts":a(o);break;default:return}})),n.addEventListener("click",(()=>{window.scroll({left:0,top:0,behavior:"smooth"})})),window.addEventListener("scroll",(()=>{document.documentElement.scrollTop>590?n.style.opacity="1":n.style.opacity="0"}))})()})();