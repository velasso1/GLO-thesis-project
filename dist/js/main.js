(()=>{"use strict";const e=e=>{let t=!0;return e.forEach((e=>{switch(e.classList.remove("error"),e.getAttribute("name")){case"fio":if(!e.value.match(/[a-яA-я]{2}/gi)){e.style.border="2px solid red";break}return e.style.border="",void e.classList.remove("error");case"tel":if(!e.value.match(/^((\+7|7|8)+\(?([0-9]){3}\)?)(\-?([0-9]){3})(\-?([0-9]){2}){2}$/g)){e.style.border="2px solid red";break}return e.style.border="",void e.classList.remove("error");default:return}e.classList.add("error"),t=!1})),t};(()=>{const e=document.querySelector(".modal-overlay"),t=document.querySelector(".modal-callback"),r=document.querySelector(".services-elements"),o=document.querySelectorAll(".callback-btn"),c=document.querySelector('img[alt="modal-close"]'),n=document.querySelector(".button-services"),l=document.querySelector(".up"),a=()=>{"none"===e.style.display?(l.style.zIndex="20",function({timing:e,draw:t,duration:r}){let o=performance.now();requestAnimationFrame((function c(n){let l=(n-o)/r;l>1&&(l=1);let a=e(l);t(a),l<1&&requestAnimationFrame(c)}))}({duration:800,timing:e=>e,draw(r){t.style.display="block",e.style.display="block",e.style.opacity=100*r+"%",t.style.opacity=100*r+"%",t.style.transform=`translateX(-${150-100*r}%)`,t.style.left=""+50*r}})):(e.style.display="none",t.style.display="none",l.style.zIndex="")};a(),r.addEventListener("click",(e=>{e.preventDefault(),"A"===e.target.tagName&&a()})),o.forEach((e=>{e.addEventListener("click",a)})),n.addEventListener("click",a),e.addEventListener("click",a),c.addEventListener("click",a)})(),(()=>{const t=document.querySelector(".rf > form"),r=t.querySelectorAll("input"),o=document.createElement("div");t.addEventListener("submit",(c=>{c.preventDefault(),(()=>{const c=new FormData(t),n={};var l;t.append(o),o.textContent="Отправка данных..",c.forEach(((e,t)=>{"tel"===t&&""===e||("fio"===t&&""===e&&(e="Имя не указано"),n[t]=e)})),(()=>{let t=!0;return e(r),r.forEach((e=>{e.classList.contains("error")&&(t=!1)})),t})()?(l=n,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(l),headers:{"Content-type":"application/json"}}).then((e=>e.json()))).then((e=>{o.textContent="Данные отправлены!",setTimeout((()=>o.remove()),3e3),r.forEach((e=>{"submit"!==e.getAttribute("type")&&(e.value="")}))})).catch((e=>{o.textContent="Произошла ошибка"})):(o.textContent="Некорректный ввод",setTimeout((()=>o.remove()),3e3))})()}))})(),(()=>{const t=document.querySelector('input[name="fio"]'),r=document.querySelector(".tel");t.addEventListener("input",(t=>{t.target.value=t.target.value.replace(/[^а-яА-Я]/,""),e([t.target])})),r.addEventListener("input",(t=>{t.target.value=t.target.value.replace(/[^0-9\+]/,""),e([t.target])}))})(),(()=>{const e=document.querySelector(".top-menu"),t=document.querySelector("#services"),r=document.querySelector("#faq"),o=document.querySelector("#contacts"),c=document.querySelector(".up"),n=e=>{window.scroll({left:0,top:e.offsetTop,behavior:"smooth"})};e.addEventListener("click",(e=>{if(e.preventDefault(),"A"===e.target.tagName)switch(e.target.getAttribute("href")){case"#services":n(t);break;case"#faq":n(r);break;case"#contacts":n(o);break;default:return}})),c.addEventListener("click",(()=>{window.scroll({left:0,top:0,behavior:"smooth"})})),window.addEventListener("scroll",(()=>{document.documentElement.scrollTop>590?c.style.opacity="1":c.style.opacity="0"}))})(),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),r=e.querySelectorAll(".element-content");e.addEventListener("click",(e=>{e.target.classList.contains("title")&&(t.forEach((e=>{e.classList.remove("active")})),e.target.closest(".element").classList.add("active"),r.forEach((e=>{e.closest(".active")?e.style.display="block":e.style.display="none"})))}))})()})();